<div class="container">


  <div class="row">
    <div class="col-8 offset-2">
      <form (ngSubmit)="submitForm(form)" #form="ngForm">

        <div class="" ngModelGroup="user" #user="ngModelGroup">
          <div class="form-group" [ngClass]="{'has-error': email.invalid && email.touched}">
            <label>Email</label>
            <input
              type="text"
              class="form-control"
              ngModel
              name="email"
              required
              email
              #email="ngModel">
            <p *ngIf="email.invalid && email.touched">Enter email</p>

            <button type="button" class="btn btn-primary" (click)="addRandEmail()">add random email</button>
          </div>

          <div class="form-group" [ngClass]="{'has-error': pass.invalid && pass.touched}">
            <label>Пароль</label>
            <input
              type="password"
              class="form-control"
              ngModel
              name="pass"
              required
              #pass="ngModel">
            <p *ngIf="pass.invalid && pass.touched">Enter password</p>
          </div>

          <h2 *ngIf="user.invalid && user.touched">not corrected user data</h2>
        </div>

        <div class="form-group">
          <label>Выберите страну</label>
          <select
            class="form-control"
            [ngModel]="defaultCountry"
            name="country"
            required>
            <option value="ru">Россия</option>
            <option value="by">Белоруссия</option>
            <option value="ua">Украина</option>
          </select>
        </div>
        <div class="radio" *ngFor="let ans of answers">
          <label>
            <input
              type="radio"
              [value]="ans.type"
              [ngModel]="defaultAnswer"
              name="answer"
              required> {{ans.text}}
          </label>
        </div>
        <button class="btn btn-success"
                type="submit"
                [disabled]="!form.valid">Сохранить
        </button>

        <div *ngIf="isSubmitted">
          <pre><code>{{formData | json}}</code></pre>
        </div>
      </form>
    </div>
  </div>
</div>
